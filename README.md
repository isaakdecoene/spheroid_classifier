# Spheroid Classifier

This project contains all files needed in the automated image analysis pipeline. 

All software is in a docker container which is available at [hub.docker.com/r/gnasello/spheroid-env](https://hub.docker.com/r/gnasello/spheroid-env)

## Files used for the automated analysis. 
--------------------------------------------

- rgbtiff_to_hdf5: this was used to convert the raw RGB .tiff pink images to grayvalue hdf5 files that can be read by Ilastik. 

- R_image_analysis_Manual: neccessary to overlay the cellprofiler spheroid objects with the python-detected grid and generate visualisation. This is called at the end of 'SpheroidClassifier_Manual'.

- SpheroidClassifier_Manual: performs the full analysis of 1 image. 

- SpheroidClassifier_MultipleImages_Manual:calls 'SpheroidClassifier_Manual' for each image in the stella/input/ folder. 

- stella/IlastikGridDetector: extracts the grid from Ilastik. This script is called in 'SpheroidClassifier_Manual'

- stella/20220525_stella_manual_GridDetection_pixelclassification: This Ilastik file is trained to segment the grid that make up the microwells.

- stella/20220525_stella_manual_pixelclassification: This Ilastik file is trained to segment spheroids from the rest of the image. 

- stella/20220315_cp_stella_filters_manual_A400: This CellProfiler project takes as input the probability map generated by Ilastik, and identifies spheroid objects. 

- input/original/STELLA_sA400_semiauto_Merge_500-20_B04_D7.tiff: example input image

- input/STELLA_sA400_semiauto_Merge_500-20_B04_D7.hdf5: example output image from 'rgbtiff_to_hdf5.ipynb'

- output/images/STELLA_sA400_semiauto_Merge_500-20_B04_D7: folder containing all example outputs generated by the pipeline